{% extends 'base.html' %} 


{%  load static %}

{% block title %} | About {% endblock %}


{% block content %}
<link href="https://mdbootstrap.com/previews/templates/admin-dashboard/css/mdb.min.css" rel="stylesheet">
<link href="https://mdbootstrap.com/previews/templates/admin-dashboard/css/bootstrap.min.css"rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
{% if login_status_server_response %}
<main>
  {% include 'partials/alerts.html' %}
    <div class="container-fluid">

      <!-- Section: Modals -->
      <section>
        <!-- Modal: modalAchievment -->
        <div class="modal fade" id="modalAchievment" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog cascading-modal" role="document">

            <!-- Content -->
            <div class="modal-content">

              <!-- Header -->
              <div class="modal-header light-blue darken-3 white-text">
                <h4 class=""><i class="far fa-newspaper"></i> Bootstrap Master</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
              </div>

              <!-- Body -->
              <div class="modal-body mb-0">

                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quam quibusdam modi veritatis non
                  accusamus distinctio consequuntur aliquam, assumenda tempore in illum aspernatur quia,
                  minus ex! Eius tenetur praesentium, consectetur quod!</p>

              </div>

              <!-- Footer -->
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-outline-primary waves-effect waves-light" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary waves-effect waves-light">Go to <i class="fas fa-arrow-right ml-1"></i></button>
              </div>

            </div>
            <!-- Content -->

          </div>
        </div>
        <!-- Modal: modalAchievment -->

        <!-- Modal: modalContactUser -->
        <div class="modal fade" id="modalContactUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog cascading-modal modal-lg" role="document">

            <!-- Content -->
            <div class="modal-content">

              <!-- Header -->
              <div class="modal-header light-blue darken-3 white-text">
                <h4 class=""><i class="fas fa-envelope-o"></i> New Message</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
              </div>

              <!-- Body -->
              <div class="modal-body mb-0">

                <!-- Basic textarea -->
                <div class="md-form">
                  <textarea type="text" id="modalContactUser1" class="md-textarea" style="height: 400px;"></textarea>
                  <label for="modalContactUser1">Your message</label>
                </div>

              </div>

              <!-- Footer -->
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-outline-primary waves-effect waves-light" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary waves-effect waves-light">Send <i class="fas fa-paper-plane ml-1"></i></button>
              </div>

            </div>
            <!-- Content -->

          </div>
        </div>
        <!-- Modal: modalContactUser -->

        <!-- Modal: modalSubmitProject -->
        <div class="modal fade" id="modalSubmitProject" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog cascading-modal" role="document">

            <!-- Content -->
            <div class="modal-content">

              <!-- Header -->
              <div class="modal-header light-blue darken-3 white-text">
                <h4 class=""><i class="far fa-newspaper"></i> Submit new project</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
              </div>

              <!-- Body -->
              <div class="modal-body mb-0">
                <form action="{% url 'dashboard' %}" enctype = "multipart/form-data" method="POST" >
                        {% csrf_token %}
                        {% load bfa %}
                        {% fingerprint_input %}

                <input type="text" name="form_type" class="form-control" hidden="true" value='project_submit' required>
                <div class="md-form form-sm">
                  <input type="text" id="newProject1" name="Title" class="form-control">
                  <label for="newProject1" class="">Project name</label>
                </div>

                 <select class="select" id="ProjectMainCategory" name="ProjectMainCategory">
                    <option >Select Category</option>
                    <option value=",cat_iot,">IOT</option>
                    <option value=",cat_software,">SOFTWARE</option>
                  </select>
                  <div id="MainCategoryOption" name="MainCategoryOption" style='margin-top: 20px;'></div>
                  <div hidden="true">
                    <textarea id='MainCategoryOptionTextarea' name='MainCategoryOptionTextarea' class="form-control" required></textarea>
                  </div>

                <div class="md-form form-sm">
                  <input type="text" id="newProject2" name="url" class="form-control">
                  <label for="newProject2" class="">Project URL address</label>
                </div>
                <div id="dnd-accept-formats" class="file-upload-wrapper">
                  <input type="file" class="file-upload-input" name="ProjectImage" id="ProjectImage"  data-mdb-accepted-extensions="image/*, .pdf" data-mdb-file-upload="file-upload"/>
                </div>
                <div class="md-form form-sm">
                  <textarea type="text" id="newProject4" name="Description" class="md-textarea"></textarea>
                  <label for="newProject4">Description</label>
                </div>
                  
                <!-- Footer -->
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-outline-primary waves-effect waves-light" data-dismiss="modal">Close</button>

                <button type="button" id='user_submit' class="btn btn-primary waves-effect waves-light">Submit <i class="fas fa-check ml-1"></i></button>
                <input type="submit" value="send" id="submit_button" class="btn btn-block btn-secondary" hidden="true">

              </div>

            </div>
          </form>

          </div>


            <!-- Content -->

          </div>
        </div>
        <!-- Modal: modalSubmitProject -->

      </section>
      <!-- Section: Modals -->

      <!-- Section: Profile -->
      <section>

        <!-- Grid row -->
        <div class="row mt-5">

          <!-- Grid column -->
          <div class="col-lg-4 col-md-12">

            <!-- Section: Basic Info -->
          <section class="card profile-card mb-4 text-center">
              <div class="avatar z-depth-1-half">
                <img src="{{login_status_server_response.domain_name}}/Media/register_account/{{ login_status_server_response.account_id}}/profile_image/{{ login_status_server_response.profile_id }}" alt="" class="img-fluid">
              </div>
              <!-- Card content -->
              <div class="card-body">
                <!-- Title -->
                <h4 class="card-title"><strong>{{ login_status_server_response.fname }} {{ login_status_server_response.lname }}</strong></h4>
                <h5>Login as <a href="">{{login_status_server_response.email}}</a></h5>
                <h5>Web designer at <a href="">MDBootstrap</a></h5>
                <p class="dark-grey-text">Warsaw, Poland</p>

                <!-- Social -->
                <a type="button" class="btn-floating btn-small waves-effect waves-light"><i class="fab fa-facebook-f grey-text"></i></a>
                <a type="button" class="btn-floating btn-small waves-effect waves-light"><i class="fab fa-twitter grey-text"></i></a>
                <a type="button" class="btn-floating btn-small waves-effect waves-light"><i class="fab fa-linkedin-in grey-text"></i></a>

                <!-- Text -->
                <p class="card-text mt-3">Some quick example text to build on the card title and make up the bulk of
                  the card's content.
                </p>

                <button type="button" class="btn btn-info btn-rounded btn-sm waves-effect waves-light" data-toggle="modal" data-target="#modalContactUser">Contact<i class="fas fa-paper-plane ml-2"></i></button>
              </div>

            </section>
            
            <!-- Section: Basic Info -->

            <!-- Section: Achievements -->
            <section class="card mb-4">
              <div class="card-body text-center">

                <h5><strong>{{ login_status_server_response.fname }}'s Achievements</strong></h5>

                <hr class="my-3">

                <button type="button" class="btn btn-light-blue btn-rounded btn-sm px-3 waves-effect waves-light" data-toggle="modal" data-target="#modalAchievment">Bootstrap Master</button>
                <button type="button" class="btn btn-blue-grey btn-rounded btn-sm px-3 waves-effect waves-light" data-toggle="modal" data-target="#modalAchievment">WordPress
                  Master</button>
                <button type="button" class="btn btn-default btn-rounded btn-sm px-3 waves-effect waves-light" data-toggle="modal" data-target="#modalAchievment">Angular
                  Master</button>
                <button type="button" class="btn btn-secondary btn-rounded btn-sm px-3 waves-effect waves-light" data-toggle="modal" data-target="#modalAchievment">MDB
                  Expert</button>
                <button type="button" class="btn btn-deep-purple btn-rounded btn-sm px-3 waves-effect waves-light" data-toggle="modal" data-target="#modalAchievment">Community contributor</button>
                <button type="button" class="btn btn-indigo btn-rounded btn-sm px-3 waves-effect waves-light" data-toggle="modal" data-target="#modalAchievment">MDB
                  Pro User</button>
              </div>
            </section>
            <!-- Section: Achievements -->

            <!-- Section: Experience -->
            <section class="card mb-4">
              <div class="card-body">

                <h5 class="text-center mb-4"><strong>{{ login_status_server_response.fname }}'s Contributions </strong></h5>

                <ul class="list-unstyled pt-4">
                  <li>
                    <p>Submited projects <span class="badge badge-primary pull-right">14</span></p>
                  </li>
                  <hr>
                  <li>
                    <p>Pull requests <span class="badge badge-primary pull-right">14</span></p>
                  </li>

                </ul>

              </div>
            </section>
            <!-- Section: Experience -->

          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          <div class="col-lg-8 col-md-12 text-center">

            <!-- Heading -->
            <div class="text-center mt-3 mb-5">

              <h4><strong>{{ login_status_server_response.fname }}'s projects</strong></h4>

              <button type="button" class="btn btn-info btn-rounded mt-4 waves-effect waves-light" data-toggle="modal" data-target="#modalSubmitProject">Submit
                new project <i class="far fa-image ml-1"></i></button>

            </div>
            <!-- Heading -->

            <!-- Card row -->
            {% if project|length > 0 %}
            <div class="card-deck">
                  {% for item in project %}
                    <div class="card card-cascade narrower card-ecommerce mb-5">

                      <!-- Card image -->
                      <div class="view view-cascade overlay">
                        {% for image_item in item.project_image %}
                          <img src="{{domain_name}}/Media/register_account/{{item.account_id}}/project_upload/{{item.project_id}}/media/project_image/{{image_item}}" class="img-fluid" alt="">
                          <a href="#"><div class="mask waves-effect waves-light"></div></a>
                        {% endfor %}
                      </div>

                      <!-- Card content -->
                      <div class="card-body card-body-cascade">

                        <!-- Title -->
                        <h4 class="card-title">{{item.title}}</h4>

                        <!-- Text -->
                        <p class="card-text">{{item.description}}</p>

                      </div>

                      <!-- Card footer -->
                      <div class="card-footer links-light">
                        <span class="float-left pt-2">
                          <a><i class="fas fa-share-alt mr-2"></i></a>
                          <small class="text-muted">Last updated {{item.last_upd_sort_time}} ago</small>
                        </span>
                        <span class="float-right">
                          <a href="{{domain_name}}/ProjectShow?pid={{item.project_id}}" class="waves-effect p-2">Live Preview <i class="far fa-image ml-1"></i></a>
                        </span>
                      </div>

                    </div>
                  {% endfor %}
                {% else %}  
                <div>No project found</div>
              
              {% endif %}
            </div>
            <!-- Card row -->

            

            <!-- Pagination -->
            <nav class="my-4 d-flex justify-content-center">

              <ul class="pagination pagination-circle pg-blue mb-0">

                <!-- First -->
                <li class="page-item disabled clearfix d-none d-md-block"><a class="page-link waves-effect waves-effect">First</a></li>

                <!-- Arrow left -->
                <li class="page-item disabled">
                  <a class="page-link waves-effect waves-effect" aria-label="Previous">
                    <span aria-hidden="true">«</span>
                    <span class="sr-only">Previous</span>
                  </a>
                </li>

                <!-- Numbers -->
                <li class="page-item active"><a class="page-link waves-effect waves-effect">1</a></li>
                <li class="page-item"><a class="page-link waves-effect waves-effect">2</a></li>
                <li class="page-item"><a class="page-link waves-effect waves-effect">3</a></li>
                <li class="page-item"><a class="page-link waves-effect waves-effect">4</a></li>
                <li class="page-item"><a class="page-link waves-effect waves-effect">5</a></li>

                <!-- Arrow right -->
                <li class="page-item">
                  <a class="page-link waves-effect waves-effect" aria-label="Next">
                    <span aria-hidden="true">»</span>
                    <span class="sr-only">Next</span>
                  </a>
                </li>

                <!-- First -->
                <li class="page-item clearfix d-none d-md-block"><a class="page-link waves-effect waves-effect">Last</a></li>

              </ul>
            </nav>
            <!-- Pagination -->

          </div>
          <!-- Grid column -->

        </div>
        <!-- Grid row -->

      </section>
      <!-- Section: Profile -->

    </div>
  </main>
   {% endif %}
  <script src="https://mdbootstrap.com/previews/templates/admin-dashboard/js/jquery-3.3.1.min.js"></script>
    <script src="https://mdbootstrap.com/previews/templates/admin-dashboard/js/mdb.min.js"></script>
    <script src="https://mdbootstrap.com/previews/templates/admin-dashboard/js/bootstrap.js"></script>
    <script src="https://mdbootstrap.com/previews/templates/admin-dashboard/js/popper.min.js"></script>




  
  <script>
    $(document).ready(function(){
   
      $('#ProjectMainCategory').change(function(){
        $('#MainCategoryOptionTextarea').val('');
        if(this.value == ',cat_iot,'){
          $('#MainCategoryOption').html('<div class="lable">PLATFORM*</div><div class="ProjectMainCategoryItem"><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="platform_arduino" id="inlineCheckbox1"><label class="form-check-label" for="inlineCheckbox1">Arduino &nbsp;&nbsp;</label></div><div class="ProjectMainCategoryItem"><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="platform_respberrypi" id="inlineCheckbox2"> <label class="form-check-label" for="inlineCheckbox2">Respberry Pi</label></div>');
        }
        else if(this.value == ',cat_software,'){
          $('#MainCategoryOption').html('<div class="lable">PLATFORM*</div><div class="ProjectMainCategoryItem"><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="platform_arduino" id="inlineCheckbox3"> <label class="form-check-label mr-2" for="inlineCheckbox3">Arduino</label><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="platform_respberrypi" id="inlineCheckbox4"><label class="form-check-label mr-2" for="inlineCheckbox4">Respberry Pi</label><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="platform_android" id="inlineCheckbox5"><label class="form-check-label mr-2" for="inlineCheckbox5">Android</label><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="platform_web" id="inlineCheckbox6"><label class="form-check-label mr-2" for="inlineCheckbox6">Web</label></div><div class="lable">LANGUAGE*</div><div class="ProjectMainCategoryItem"><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="language_python" id="inlineCheckbox7"> <label class="form-check-label mr-2" for="inlineCheckbox7">Python</label><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="language_php" id="inlineCheckbox8"> <label class="form-check-label mr-2" for="inlineCheckbox8">php</label><input type="checkbox" class="ProjectMainCategoryItemCheckBox form-check-input" onchange="ProjectMainCategoryItemCheckBox(this)" value="language_dart" id="inlineCheckbox9"> <label class="form-check-label mr-2" for="inlineCheckbox9">Dart</label></div>');
        }else{
          $('#MainCategoryOption').html('');
        }
      });
    });
    function ProjectMainCategoryItemCheckBox(this_ref){
      if(this_ref.checked == true){
        $('#MainCategoryOptionTextarea').val(($('#MainCategoryOptionTextarea').val()+','+this_ref.value+',').replace(/,+/g, ',').replace(' ', '').toLowerCase());
      }else{
        $('#MainCategoryOptionTextarea').val(($('#MainCategoryOptionTextarea').val().replace((','+this_ref.value+',').replace(' ', ''),',')).replace(/,+/g, ',').replace(' ', '').toLowerCase());
      }
    }

    $('#user_submit').click(function(){
      if($('#ProjectMainCategory').val() == ',cat_iot,'){
        if($('#MainCategoryOptionTextarea').val().split(',').length < 3){
          swal("Please fill all required field", "", "warning"); return false;
        }
      }else if($('#ProjectMainCategory').val() == ',cat_software,'){
        if($('#MainCategoryOptionTextarea').val().split(',').length < 3){
          swal("Please fill all required field", "", "warning"); return false;
        }
      }else{
        swal("Inalid category type", "", "warning"); return false;
      }

      $('#submit_button').click();
    });
                    
               
  </script>
{% endblock %}